\documentclass{article} % For LaTeX2e
\usepackage{hyperref}
\usepackage{url}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage[numbers,sort]{natbib}
\usepackage{graphicx}
\usepackage[export]{adjustbox}
\usepackage{footmisc}
\usepackage[section]{placeins}
\usepackage{minted}
\DeclareGraphicsExtensions{.pdf,.png,.jpg,.eps}

\newlength\tindent
\setlength{\tindent}{\parindent}
\setlength{\parindent}{0pt}
\renewcommand{\indent}{\hspace*{\tindent}}


\author{
Gabriel C-Parent\\
}


\newcommand{\fix}{\marginpar{FIX}}
\newcommand{\new}{\marginpar{NEW}}

\begin{document}


\title{IFT6751: Homework 2}
      
\maketitle
\section{Introduction}

In this homework, two different approaches to solve the capacitated vehicle routing problem (CVRP) were explored.
First, a genetic algorithm procedure was devised, using Clark \& Wright savings \citep{clark_wright_enhanced} to 
A simple Tabu Search heuristic was implemented, based roughly on  along with a Genetic Algorithm.\newline


Both methods were tested against problem instances without length limit, from \citep{christofides} and compared to the best known solutions.\newline


A description of each algorithm is given and then some experimental results are compared.




\section{Local search method}
\label{local_search}
The local search method used to optimize individual routes is the steepest improvement method as described in \citep{steepest_improvement}.
Basically, it is a greedy use of the well known 2-opt method.\newline

At each iteration, the best possible 2-opt is chosen, according to the reduction in total distance, until there isn't any possible improvement. The complexity of the procedure $O(n^{2})$ on the number of edges in the route.\newline

Although it might seem slow, usually the number of edges is quite small and the time spent optimizing routes is relatively negligible.\newline

Simplified python code can be seen in the code section \ref{code_steepest_improvement}.





\section{Clark \& Wright Random Savings}

The Clark \& Wright savings algorithm is a well known simple heuristic for the CVRP.
Many improvements were suggested for this heuristic \cite{clark_wright_ds}.\newline

The one used in this work is a slight variant of the parallel savings, where instead of choosing the best the best saving and merging the corresponding routes, the $k$ best savings are found and one is randomly chosen.\newline

This procedure is used in both the Tabu Search and Genetic Algorithm procedures.\newline

In the Genetic Algorithm procedure, the random savings is used to generate good initial solutions. The initialization step is costly but the quality of the initial population is great.\newline

In the Tabu Search procedure, the random savings is used to initialize a solution, which is then locally explored until convergence is achieved.



\section{Genetic Algorithm}
\label{genetic_algorithm}
%encodage d’une solution, sélection, croisement, mutation, remplacement de la population, critère d’arrêt

\subsection{Encoding}

The solutions are encoded using the Route object. Basically, a route is a list of clients that starts at the depot and ends at the depot, where no client is repeated. The solution is a list of routes, where each client is in exactly one route.

This representation isn't really friendly to classical crossover operators but allows functions defined on routes and solutions to be shared for both the Tabu Search and Genetic Algorithm representations.

\subsection{Selection}

The simple well known binary tournament selection is used to select the parents of the next generation.

\subsection{Crossover}

The crossover used here is related to the concept of petals. Basically, the

\subsection{Mutation}



\subsection{Population swap}



\subsection{Stopping criteria}



\section{Tabu search}
\label{tabu_search}
%espace des solutions admissibles, fonction objectif, voisinage,
%liste tabou, critères d’aspiration, intensification, diversification, critère d’arrêt

\subsection{Solution space}



\subsection{Objective function}



\subsection{Neighbourhood of a solution}



\subsection{Tabu list}



\subsection{Asipration criteria}



\subsection{Intensification}



\subsection{Diversification}



\subsection{Stopping criteria}




%------------------------------------------------------------------------------
\newpage
\section{Experimental results}
\label{exp_results}

%\subsection{•}

%\begin{figure}[!htb]
%\begin{center}
% \includegraphics[scale=0.45]{MAP1000_stoplist}
% \caption{\small  Mean Average Precision at 1000 documents for treatments using the stoplist. Each column represents the topics set (1-50, 51-100, 101-150) and each row a different treatment. There are 4 non-dominated treatments over the three sets of queries: $krovetz\_dirichlet\_2000$, $porter\_dirichlet\_2000$, $krovetz\_okapi$ and $porter\_okapi$.}
% \label{mapstoplist}
% \end{center}
%\end{figure}



\section{Analysis of experimental results}
\label{analysis_results}


\subsection{Genetic Algorithm}



\subsection{Tabu Search}



\subsection{Non-dominated treatments}



%------------------------------------------------------------------------------
\section{Conclusion}



\bibliographystyle{plain}

\bibliography{dev2}

\section{Code example}


\subsection{Steepest Improvement}
\label{code_steepest_improvement}
\begin{minted}[mathescape,
               linenos,
               numbersep=5pt,
               frame=lines,
               framesep=2mm]{python}

def steepest_improvement(route, dist):
    """steepest improvement procedure, using 2-opt"""
    best_ind1 = 0
    best_ind3 = 0
    savings = 0.
    proposed_savings = 0.
    # iterate until there isn't any better local choice (2-opt)
    while True:
        savings = 0.
        for ind1 in range(0, len(route.nodes)-2):
            for ind3 in range(ind1+2, len(route.nodes)-1):
                n1 = route.nodes[ind1]
                n2 = route.nodes[ind1 + 1]
                n3 = route.nodes[ind3]
                n4 = route.nodes[ind3+1]
                actual = dist[n1][n2] + dist[n3][n4]
                proposed = dist[n1][n3] + dist[n2][n4]
                proposed_savings = actual - proposed
                if proposed_savings > savings:
                    best_ind1 = ind1
                    best_ind3 = ind3
                    savings = proposed_savings
        if savings > 0.:
        	# do the 2-opt exchange
            two_opt(route, best_ind1, best_ind3)
        else:
            return
    return
\end{minted}

\end{document}


